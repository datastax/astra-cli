---- meta ----
command: astra db cqlsh exec two_regions_db -o json
exit_code: 0
comments: 
 | Can't really test human output since we don't capture cqlsh output for human outputs
 | But at least we can verify the command runs and the exit code is correct
 | (human output returns cqlsh exit code; non-human output returns the cqlsh exit code via a field)
---- output ----
stderr: [INFO] Reading CQL statements from stdin...
stderr: [INFO] Use backslashes for multi-line statements
stdout: {
stdout:   "code" : "OK",
stdout:   "message" : "Cqlsh executed with exit code 1, with 0 lines in stdout and 29 lines in stderr.",
stdout:   "data" : {
stdout:     "exitCode" : 1,
stdout:     "stdout" : "",
stdout:     "stderr" : "Traceback (most recent call last):\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../zipfiles/cassandra-driver-internal-only-3.26.0-df103d3a.zip/cassandra-driver-3.26.0-df103d3a/cassandra/datastax/cloud/__init__.py\", line 88, in get_cloud_config\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../zipfiles/cassandra-driver-internal-only-3.26.0-df103d3a.zip/cassandra-driver-3.26.0-df103d3a/cassandra/datastax/cloud/__init__.py\", line 101, in read_cloud_config_from_zip\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.13_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/zipfile.py\", line 1313, in __init__\n    self._RealGetContents()\n  File \"/opt/homebrew/Cellar/python@3.11/3.11.13_1/Frameworks/Python.framework/Versions/3.11/lib/python3.11/zipfile.py\", line 1380, in _RealGetContents\n    raise BadZipFile(\"File is not a zip file\")\nzipfile.BadZipFile: File is not a zip file\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/dsecqlsh.py\", line 534, in <module>\n    cqlsh.main(*cqlsh.read_options(sys.argv[1:], os.environ))\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/cqlsh.py\", line 2616, in main\n    shell = Shell(hostname,\n            ^^^^^^^^^^^^^^^\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/dsecqlsh.py\", line 367, in __init__\n    conn = cluster_factory(\n           ^^^^^^^^^^^^^^^^\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../pylib/cqlshlib/driver.py\", line 90, in cluster_factory\n    return _cloud_cluster_factory(whitelist_lbp, **options)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../pylib/cqlshlib/driver.py\", line 120, in _cloud_cluster_factory\n    cluster = Cluster(**options)\n              ^^^^^^^^^^^^^^^^^^\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../zipfiles/cassandra-driver-internal-only-3.26.0-df103d3a.zip/cassandra-driver-3.26.0-df103d3a/cassandra/cluster.py\", line 1125, in __init__\n  File \"/Users/me/work/astra-cli/.cli_tests_temp/java/cqlsh-astra@v1/6.8.0/bin/../zipfiles/cassandra-driver-internal-only-3.26.0-df103d3a.zip/cassandra-driver-3.26.0-df103d3a/cassandra/datastax/cloud/__init__.py\", line 90, in get_cloud_config\nValueError: Unable to open the zip file for the cloud config. Check your secure connect bundle."
stdout:   },
stdout:   "nextSteps" : null
stdout: }
---- end ----
